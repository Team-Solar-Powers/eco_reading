<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>book::search:result</title>
</head>
<body>
<h1>검색결과</h1>

<table>
    <tr>
        <th>이미지</th>
        <th>ISBN</th>
        <th>제목</th>
        <th>저자/출판사</th>
        <th>발행일</th>
        <th>선택</th>
    </tr>
    <tr th:each="book : ${books}">
        <td><img th:src="${book.image}" th:alt="${book.title}" width="100"></td>
        <td th:text="${book.isbn}"></td>
        <td><a th:href="${book.link}" th:text="${book.title}"></a></td>
        <td th:text="${book.author} + '/' + ${book.publisher}"></td>
        <td th:text="${book.pubdate}"></td>
        <td><input type="checkbox" id="myCheckbox" onclick="processCheckbox()" th:value="${book.isbn}"></td>
    </tr>
</table>
</body>

<script>
    function processCheckbox(checkbox) {
        // 체크박스의 상태를 확인
        checkbox = document.getElementById('myCheckbox');
        var isChecked = checkbox.checked;
        var isbn = checkbox.value;

        if (checkbox.checked) {
            // 선택되었을 때 실행할 코드
            alert('책이 선택되었습니다. ISBN: ' + isbn);
            // 여기에서 창을 닫는 등의 작업을 수행할 수 있습니다.
            window.close();
        }
    }
</script>

</html>